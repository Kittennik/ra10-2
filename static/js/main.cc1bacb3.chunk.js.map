{"version":3,"sources":["actions/actionCreators.js","actions/actionTypes.js","components/ServiceAdd.js","components/ServiceList.js","components/ServiceFilter.js","App.js","reducers/serviceListReducer.js","reducers/serviceAddReducer.js","reducers/serviceFilterReducer.js","store/index.js","index.js"],"names":["addService","id","name","price","type","payload","removeService","ServiceAdd","item","useSelector","state","serviceAdd","dispatch","useDispatch","handleChange","evt","target","value","fieldName","changeServiceField","onSubmit","preventDefault","onReset","onChange","ServiceList","items","serviceList","itemsActive","filterList","serviceFilter","filterText","toLowerCase","filterItems","filter","includes","map","o","key","className","onClick","changeService","ServiceFilter","filterService","App","initialState","nanoid","reducer","combineReducers","action","addItem","service","Number","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cc1bacb3.chunk.js","sourcesContent":["import { ADD_SERVICE, REMOVE_SERVICE, CHANGE_SERVICE_FIELD, CHANGE_SERVICE, CHANGE_SERVICE_CANCEL, FILTER_SERVICE } from './actionTypes';\n\nexport function addService(id, name, price) {\n  return {type: ADD_SERVICE, payload: {id, name, price}};\n}\n\nexport function removeService(id) {\n  return {type: REMOVE_SERVICE, payload: {id}};\n}\n\nexport function changeServiceField(fieldName, value) {\n  return {type: CHANGE_SERVICE_FIELD, payload: {fieldName, value}}\n}\n\nexport function changeService(id, name, price) {\n  return {type: CHANGE_SERVICE, payload: {id, name, price}};\n}\n\nexport function changeServiceCancel() {\n  return {type: CHANGE_SERVICE_CANCEL};\n}\n\nexport function filterService(value) {\n  return {type: FILTER_SERVICE, payload: {value}};\n}\n","export const ADD_SERVICE = 'ADD_SERVICE';\nexport const REMOVE_SERVICE = 'REMOVE_SERVICE';\nexport const CHANGE_SERVICE_FIELD = 'CHANGE_SERVICE_FIELD';\nexport const CHANGE_SERVICE = 'CHANGE_SERVICE';\nexport const CHANGE_SERVICE_CANCEL = 'CHANGE_SERVICE_CANCEL';\nexport const FILTER_SERVICE = 'FILTER_SERVICE';\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { changeServiceField, addService, changeServiceCancel } from '../actions/actionCreators';\n\nfunction ServiceAdd() {\n\tconst item = useSelector(state => state.serviceAdd);\n\tconst dispatch = useDispatch();\n\n\tconst handleChange = evt => {\n\t\tconst {name, value} = evt.target;\n\t\tdispatch(changeServiceField(name, value));\n\t}\n\n\tconst handleSubmit = evt => {\n\t\tevt.preventDefault();\n\t\tif (item.id) {\n      dispatch(addService(item.id, item.name, item.price))\n    } else {\n      dispatch(addService('', item.name, item.price))\n    }\n\t}\n\n  const handleReset = evt => {\n    dispatch(changeServiceCancel());\n  }\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} onReset={handleReset}>\n\t\t\t<input name='name' onChange={handleChange} value={item.name} />\n\t\t\t<input name='price' onChange={handleChange} value={item.price} />\n\t\t\t<button type='submit'>Save</button>\n      {item.id && <button type='reset'>Cancel</button>}\n\t\t</form>\n\t);\n}\n\nexport default ServiceAdd;\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux';\nimport { removeService, changeService, changeServiceCancel } from '../actions/actionCreators';\n\nfunction ServiceList() {\n  const items = useSelector(state => state.serviceList);\n  const itemsActive = useSelector(state => state.serviceAdd);\n  const filterList = useSelector(state => state.serviceFilter);\n  const dispatch = useDispatch();\n\n  const filterText = filterList.value.toLowerCase();\n  const filterItems = items.filter((item) => item.name.toLowerCase().includes(filterText));\n\n  const handleRemove = id => {\n    if (itemsActive.id !== id) {\n      dispatch(removeService(id));\n    } else {\n      dispatch(changeServiceCancel());\n      dispatch(removeService(id));\n    }\n  }\n\n  const handleChange = (o) => {\n    const { id, name, price } = o;\n    dispatch(changeService(id, name, price));\n  };\n\n  return (\n    <ul>\n      {filterItems.map(o => (\n        <li key={o.id}>\n          {o.name} {o.price}\n          <button className=\"button\" onClick={() => handleChange(o)}>&#9999;</button>\n          <button className=\"button\" onClick={() => handleRemove(o.id)}>X</button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default ServiceList;\n ","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { filterService } from '../actions/actionCreators';\n\nfunction ServiceFilter() {\n  const item = useSelector(state => state.serviceFilter);\n  const dispatch = useDispatch();\n\n  const handleChange = evt => {\n    const {value} = evt.target;\n    dispatch(filterService(value));\n  };\n\n  return (\n    <div className='filter'>\n      <p>Filter</p>\n      <input name='value' onChange={handleChange} value={item.value} />\n    </div>\n  );\n}\n\nexport default ServiceFilter;\n","import React from 'react';\nimport './App.css';\nimport ServiceAdd from './components/ServiceAdd';\nimport ServiceList from './components/ServiceList';\nimport ServiceFilter from './components/ServiceFilter';\n\nfunction App() {\n  return (\n    <>\n      <ServiceFilter />\n      <ServiceAdd />\n      <ServiceList />\n    </>\n  );\n}\n\nexport default App;\n","import { nanoid } from 'nanoid';\nimport { ADD_SERVICE, REMOVE_SERVICE } from '../actions/actionTypes';\n\nconst initialState = [\n  {id: nanoid(), name: 'Замена стекла', price: 21000},\n  {id: nanoid(), name: 'Замена дисплея', price: 25000},\n];\n\nexport default function serviceListReducer(state = initialState, action) {\n  switch (action.type) {\n    case ADD_SERVICE:\n      const addItem = action.payload;\n\n      if (addItem.id) {\n        return state.map((service) => {\n          if (service.id === addItem.id) {\n            return {\n              id: addItem.id,\n              name: addItem.name,\n              price: addItem.price,\n            }\n          }\n          return service;\n        });\n      }\n      return [...state, {id: nanoid(), name: addItem.name, price: Number(addItem.price)}];\n\n    case REMOVE_SERVICE:\n      const {id} = action.payload;\n      return state.filter(service => service.id !== id);\n\n    default:\n      return state;\n  }\n}\n","import { CHANGE_SERVICE_FIELD, ADD_SERVICE, CHANGE_SERVICE, CHANGE_SERVICE_CANCEL } from '../actions/actionTypes';\n\nconst initialState = {\n  id: '',\n  name: '',\n  price: '',\n};\n\nexport default function serviceAddReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SERVICE_FIELD:\n      const {fieldName, value} = action.payload;\n      return {...state, [fieldName]: value};\n\n    case CHANGE_SERVICE:\n      const {id, name, price} = action.payload;\n      return {id, name, price};\n\n    case ADD_SERVICE:\n      return {...initialState};\n\n    case CHANGE_SERVICE_CANCEL:\n      return {...initialState};\n\n    default:\n      return state;\n  }\n}\n","import { FILTER_SERVICE } from '../actions/actionTypes.js';\n\nconst initialState = {\n  value: '',\n};\n\nexport default function serviceFilterReducer(state = initialState, action) {\n  switch (action.type) {\n    case FILTER_SERVICE:\n      const {value} = action.payload;\n      return {value};\n\n    default:\n      return state;\n  };\n}","import { createStore, combineReducers } from 'redux';\nimport serviceListReducer from '../reducers/serviceListReducer';\nimport serviceAddReducer from '../reducers/serviceAddReducer';\nimport serviceFilterReducer from '../reducers/serviceFilterReducer';\n\nconst reducer = combineReducers({\n  serviceList: serviceListReducer,\n  serviceAdd: serviceAddReducer,\n  serviceFilter: serviceFilterReducer,\n});\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}